!function(){function validator(e,t){return function(n,i,o){if("number"==typeof o||o)if(t===validationTypes.obj){if("object"!=typeof o)return utils.message(utils.messages.invalidType,[n,i,"an object"])}else if(t===validationTypes.arr){if(!(o instanceof Array))return utils.message(utils.messages.invalidType,[n,i,"an array"])}else if(t===validationTypes.num){if("number"!=typeof o)return utils.message(utils.messages.invalidType,[n,i,"a number"])}else if(t===validationTypes.bool){if("boolean"!=typeof o)return utils.message(utils.messages.invalidType,[n,i,"a boolean"])}else{if("string"!=typeof o)return utils.message(utils.messages.invalidType,[n,i,"a string"]);if(t!==validationTypes.str&&!t.test(o))return utils.message(utils.messages.invalidType,[n,i,"in the proper format"])}else if(e)return utils.message(utils.messages.missingParam,[n,i]);return!1}}function defaults(e){var t={};return WEB_BUILD&&(t={session_id:validator(!0,branch_id),identity_id:validator(!0,branch_id),sdk:validator(!0,validationTypes.str)}),(CORDOVA_BUILD||TITANIUM_BUILD)&&(t={session_id:validator(!0,branch_id),identity_id:validator(!0,branch_id),device_fingerprint_id:validator(!0,branch_id),sdk:validator(!0,validationTypes.str)}),utils.merge(e,t)}var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||!n.execScript||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&goog.isDef(t)?n[i]=t:n=n[i]?n[i]:n[i]={}},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return COMPILED?void 0:goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var n,i=e.split("."),o=t||goog.global;n=i.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(e,t){var n,i=t||goog.global;for(n in e)i[n]=e[n]},goog.addDependency=function(e,t,n,i){if(goog.DEPENDENCIES_ENABLED){var o;e=e.replace(/\\/g,"/");for(var r=goog.dependencies_,a=0;o=t[a];a++)r.nameToPath[o]=e,r.pathIsModule[e]=!!i;for(i=0;t=n[i];i++)e in r.requires||(r.requires[e]={}),r.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,goog.writeScripts_(),null}throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return"undefined"!=typeof e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;t>=0;--t){var n=e[t].src,i=n.lastIndexOf("?"),i=-1==i?n.length:i;if("base.js"==n.substr(i-7,7)){goog.basePath=n.substr(0,i-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){goog.importScript_("",'goog.retrieveAndExecModule_("'+e+'");')&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;e>n;n++)goog.maybeProcessDeferredPath_(t[n])}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){return(e=goog.getPathFromDeps_(e))&&goog.dependencies_.pathIsModule[e]?goog.basePath+e in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var n;if(goog.isFunction(e))n=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(goog.global,e)}var i=goog.moduleLoaderState_.moduleName;if(!goog.isString(i)||!i)throw Error('Invalid module name "'+i+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n),goog.loadedModules_[i]=n,goog.moduleLoaderState_.declareTestMethods)for(var o in n)(0===o.indexOf("test",0)||"tearDown"==o||"setUp"==o||"setUpPage"==o||"tearDownPage"==o)&&(goog.global[o]=n[o])}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"></script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.src=e,n.defer=!1,n.async=!1,t.head.appendChild(n)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==n.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}var i=goog.IS_OLD_IE_;return void 0===t?i?(i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",n.write('<script type="text/javascript" src="'+e+'"'+i+"></script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e):n.write('<script type="text/javascript">'+t+"</script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function e(t){if(!(t in o.written)){if(!(t in o.visited)&&(o.visited[t]=!0,t in o.requires))for(var r in o.requires[t])if(!goog.isProvided_(r)){if(!(r in o.nameToPath))throw Error("Undefined nameToPath for "+r);e(o.nameToPath[r])}t in i||(i[t]=!0,n.push(t))}}var t,n=[],i={},o=goog.dependencies_;for(t in goog.included_)o.written[t]||e(t);for(var r=0;r<n.length;r++)t=n[r],goog.dependencies_.written[t]=!0;var a=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,r=0;r<n.length;r++){if(!(t=n[r]))throw goog.moduleLoaderState_=a,Error("Undefined script input");o.pathIsModule[t]?goog.importModule_(goog.basePath+t):goog.importScript_(goog.basePath+t)}goog.moduleLoaderState_=a},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,i=goog.loadFileSync_(e);if(null==i)throw Error("load of "+e+"failed");i=goog.wrapModule_(e,i),goog.IS_OLD_IE_?(goog.dependencies_.deferred[t]=i,goog.queuedModules_.push(t)):n(e,i)}},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n,t="array"==t?[]:{};for(n in e)t[n]=goog.cloneObject(e[n]);return t}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var n=goog.global.document,i=n.createElement("SCRIPT");i.type="text/javascript",i.defer=!1,i.appendChild(n.createTextNode(e)),n.body.appendChild(i),n.body.removeChild(i)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){var n=function(e){return goog.cssNameMapping_[e]||e},i=function(e){e=e.split("-");for(var t=[],i=0;i<e.length;i++)t.push(n(e[i]));return t.join("-")},i=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:i:function(e){return e};return t?e+"-"+i(t):i(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,n){return n in t?t[n]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,i){for(var o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];return t.prototype[n].apply(e,o)}},goog.base=function(e,t,n){var i=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(i.superClass_){for(var o=Array(arguments.length-1),r=1;r<arguments.length;r++)o[r-1]=arguments[r];return i.superClass_.constructor.apply(e,o)}for(o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];for(var r=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===i)r=!0;else if(r)return a.prototype[t].apply(e,o);if(e[t]===i)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var n=t.constructor,i=t.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,e),e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),null!=i&&(i instanceof Function?i(n):goog.defineClass.applyProperties_(n,i)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;var n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&Object.seal(t),t};return n}return e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";var config={link_service_endpoint:"https://bnc.lt",api_endpoint:"https://api.branch.io",version:"1.6.9"},WEB_BUILD=!0,CORDOVA_BUILD=!1,TITANIUM_BUILD=!1,Queue=function(){var e=[],t=function(){e.length&&e[0](function(){e.shift(),t()})};return function(n){e.push(n),1===e.length&&t()}};goog.json={},goog.json.USE_NATIVE_JSON=!1,goog.json.isValid=function(e){return/^\s*$/.test(e)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){if(a=String(a),goog.json.isValid(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)},goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){return eval("("+a+")")},goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e,t){return new goog.json.Serializer(t).serialize(e)},goog.json.Serializer=function(e){this.replacer_=e},goog.json.Serializer.prototype.serialize=function(e){var t=[];return this.serializeInternal(e,t),t.join("")},goog.json.Serializer.prototype.serializeInternal=function(e,t){if(null==e)t.push("null");else{if("object"==typeof e){if(goog.isArray(e))return void this.serializeArray(e,t);if(!(e instanceof String||e instanceof Number||e instanceof Boolean))return void this.serializeObject_(e,t);e=e.valueOf()}switch(typeof e){case"string":this.serializeString_(e,t);break;case"number":this.serializeNumber_(e,t);break;case"boolean":t.push(e);break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(e,t){t.push('"',e.replace(goog.json.Serializer.charsToReplace_,function(e){var t=goog.json.Serializer.charToJsonCharCache_[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),goog.json.Serializer.charToJsonCharCache_[e]=t),t}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(e,t){t.push(isFinite(e)&&!isNaN(e)?e:"null")},goog.json.Serializer.prototype.serializeArray=function(e,t){var n=e.length;t.push("[");for(var i="",o=0;n>o;o++)t.push(i),i=e[o],this.serializeInternal(this.replacer_?this.replacer_.call(e,String(o),i):i,t),i=",";t.push("]")},goog.json.Serializer.prototype.serializeObject_=function(e,t){t.push("{");var n,i="";for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];"function"!=typeof o&&(t.push(i),this.serializeString_(n,t),t.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(e,n,o):o,t),i=",")}t.push("}")};var utils={},DEBUG=!0,message;utils.httpMethod={POST:"POST",GET:"GET"},utils.messages={missingParam:"API request $1 missing parameter $2",invalidType:"API request $1, parameter $2 is not $3",nonInit:"Branch SDK not initialized",initPending:"Branch SDK initialization pending and a Branch method was called outside of the queue order",initFailed:"Branch SDK initialization failed, so further methods cannot be called",existingInit:"Branch SDK already initilized",missingAppId:"Missing Branch app ID",callBranchInitFirst:"Branch.init must be called first",timeout:"Request timed out",missingUrl:"Required argument: URL, is missing"},utils.getLocationSearch=function(){return window.location.search},utils.getLocationHash=function(){return window.location.hash},utils.message=function(e,t){var n=e.replace(/\$(\d)/g,function(e,n){return t[parseInt(n,10)-1]});return DEBUG&&console&&console.log(n),n},utils.whiteListSessionData=function(e){return{data:e.data||null,data_parsed:e.data_parsed||null,has_app:e.has_app||null,identity:e.identity||null,referring_identity:e.referring_identity||null,referring_link:e.referring_link||null}},utils.cleanLinkData=function(e,t){WEB_BUILD&&(e.source="web-sdk",e.data&&void 0!==e.data.$desktop_url&&(e.data.$desktop_url=e.data.$desktop_url.replace(/#r:[a-z0-9-_]+$/i,"").replace(/([\?\&]_branch_match_id=\d+)/,"")));try{JSON.parse(e.data)}catch(n){e.data=goog.json.serialize(e.data||{})}return e},utils.clickIdFromLink=function(e){return e?e.substring(e.lastIndexOf("/")+1,e.length):null},utils.processReferringLink=function(e){return e?"http"!==e.substring(0,4)?"https://bnc.lt"+e:e:null},utils.merge=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},utils.hashValue=function(e){try{return utils.getLocationHash().match(new RegExp(e+":([^&]*)"))[1]}catch(t){}},utils.mobileUserAgent=function(){return navigator.userAgent.match(/android/i)?"android":navigator.userAgent.match(/ipad/i)?"ipad":navigator.userAgent.match(/i(os|p(hone|od))/i)?"ios":!1},utils.getParamValue=function(e){try{return utils.getLocationSearch().substring(1).match(new RegExp(e+"=([^&]*)"))[1]}catch(t){}},utils.isKey=function(e){return-1<e.indexOf("key_")},utils.snakeToCamel=function(e){return e.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()})},utils.base64encode=function(e){var t,n,i,o,r,a,s="",l=0;for(e=e.replace(/\r\n/g,"\n"),n="",i=0;i<e.length;i++)o=e.charCodeAt(i),128>o?n+=String.fromCharCode(o):(o>127&&2048>o?n+=String.fromCharCode(o>>6|192):(n+=String.fromCharCode(o>>12|224),n+=String.fromCharCode(o>>6&63|128)),n+=String.fromCharCode(63&o|128));for(e=n;l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),o=t>>2,t=(3&t)<<4|n>>4,r=(15&n)<<2|i>>6,a=63&i,isNaN(n)?a=r=64:isNaN(i)&&(a=64),s=s+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);return s};var COOKIE_DAYS=365,BRANCH_KEY_PREFIX="BRANCH_WEBSDK_KEY",storage,BranchStorage=function(e){for(var t=0;t<e.length;t++){var n=this[e[t]],n="function"==typeof n?n():n;if(n.isEnabled())return n._store={},n}},prefix=function(e){return"branch_session"===e||"branch_session_first"===e?e:BRANCH_KEY_PREFIX+e},trimPrefix=function(e){return e.replace(BRANCH_KEY_PREFIX,"")},retrieveValue=function(e){return"true"===e?!0:"false"===e?!1:e},webStorage=function(e){var t=e?localStorage:sessionStorage;return{getAll:function(){var e,n=null;for(e in t)0===e.indexOf(BRANCH_KEY_PREFIX)&&(null===n&&(n={}),n[trimPrefix(e)]=retrieveValue(t.getItem(e)));return n},get:function(e,n){return retrieveValue(n?localStorage.getItem(prefix(e)):t.getItem(prefix(e)))},set:function(e,n,i){i?localStorage.setItem(prefix(e),n):t.setItem(prefix(e),n)},remove:function(e){t.removeItem(prefix(e))},clear:function(){Object.keys(t).forEach(function(e){0===e.indexOf(BRANCH_KEY_PREFIX)&&t.removeItem(e)})},isEnabled:function(){try{return t.setItem("test",""),t.removeItem("test"),!0}catch(e){return!1}}}};BranchStorage.prototype.local=function(){return webStorage(!0)},BranchStorage.prototype.session=function(){return webStorage(!1)};var cookies=function(e){return{getAll:function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var i=e[n].replace(" ",""),i=i.substring(0,i.length);-1!==i.indexOf(BRANCH_KEY_PREFIX)&&(i=i.split("="),t[trimPrefix(i[0])]=retrieveValue(i[1]))}return t},get:function(e){e=prefix(e)+"=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n],i=i.substring(1,i.length);if(0===i.indexOf(e))return retrieveValue(i.substring(e.length,i.length))}return null},set:function(t,n){var i=prefix(t),o="";e&&(o=new Date,console.log(o),o.setTime(o.getTime()+864e5*COOKIE_DAYS),o="; branch_expiration_date="+o.toGMTString()+"; expires="+o.toGMTString()),document.cookie=i+"="+n+o+"; path=/"},remove:function(e){document.cookie=prefix(e)+"=; expires=; path=/"},clear:function(){for(var t=function(e){document.cookie=e.substring(0,e.indexOf("="))+"=;expires=-1;path=/"},n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i],o=o.substring(1,o.length);-1!==o.indexOf(BRANCH_KEY_PREFIX)&&(e||-1!==o.indexOf("branch_expiration_date=")?e&&0<o.indexOf("branch_expiration_date=")&&t(o):t(o))}},isEnabled:function(){return navigator.cookieEnabled}}};BranchStorage.prototype.cookie=function(){return cookies(!1)},BranchStorage.prototype.permcookie=function(){return cookies(!0)},BranchStorage.prototype.pojo={getAll:function(){return this._store},get:function(e){return this._store[e]||null},set:function(e,t){this._store[e]=t},remove:function(e){delete this._store[e]},clear:function(){this._store={}},isEnabled:function(){return!0}},BranchStorage.prototype.titanium={getAll:function(){for(var e={},t=Ti.App.Properties.listProperties(),n=0;n<t.length;n++)-1!==t[n].indexOf(BRANCH_KEY_PREFIX)&&(e[t[n]]=retrieveValue(Ti.App.Properties.getString(t[n])));return e},get:function(e){retrieveValue(Ti.App.Properties.getString(prefix(e)))},set:function(e,t){Ti.App.Properties.setString(prefix(e),t)},remove:function(e){Ti.App.Properties.setString(prefix(e),"")},clear:function(){for(var e=Ti.App.Properties.listProperties(),t=0;t<e.length;t++)-1!==e[t].indexOf(BRANCH_KEY_PREFIX)&&Ti.App.Properties.setString(e[t],"")},isEnabled:function(){try{return Ti.App.Properties.setString("test",""),Ti.App.Properties.getString("test"),!0}catch(e){return!1}}};var session={get:function(e,t){try{return goog.json.parse(e.get(t?"branch_session_first":"branch_session",t))||null}catch(n){return null}},set:function(e,t,n){e.set("branch_session",goog.json.serialize(t)),n&&e.set("branch_session_first",goog.json.serialize(t),!0)},update:function(e,t){var n=session.get(e),n=utils.merge(n,t);e.set("branch_session",goog.json.serialize(n))}},banner_utils={animationSpeed:250,animationDelay:20,bannerHeight:"76px",error_timeout:2e3,success_timeout:3e3,removeElement:function(e){e&&e.parentNode.removeChild(e)},hasClass:function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){banner_utils.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){banner_utils.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))},getDate:function(e){var t=new Date;return t.setDate(t.getDate()+e)},getBodyStyle:function(e){return document.body.currentStyle?document.body.currentStyle[utils.snakeToCamel(e)]:window.getComputedStyle(document.body).getPropertyValue(e)},addCSSLengths:function(e,t){var n=function(e){if(!e)return 0;var t=e.replace(/[0-9,\.]/g,"");e=e.match(/\d+/g);var i=parseInt(0<e.length?e[0]:"0",10),o=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100},r=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100};return parseInt({px:function(e){return e},em:function(e){return document.body.currentStyle?e*n(document.body.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.body).fontSize)},rem:function(e){return document.documentElement.currentStyle?e*n(document.documentElement.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},vw:function(e){return e*o()},vh:function(e){return e*r()},vmin:function(e){return e*Math.min(r(),o())},vmax:function(e){return e*Math.max(r(),o())},"%":function(){return document.body.clientWidth/100*i}}[t](i),10)};return(n(e)+n(t)).toString()+"px"},shouldAppend:function(e,t){var n=e.get("hideBanner"),n="number"==typeof n?new Date>=new Date(n):!n,i=t.forgetHide;return"number"==typeof i&&(i=!1),!document.getElementById("branch-banner")&&!document.getElementById("branch-banner-iframe")&&(n||i)&&(t.showDesktop&&!utils.mobileUserAgent()||t.showAndroid&&"android"===utils.mobileUserAgent()||t.showiPad&&"ipad"===utils.mobileUserAgent()||t.showiOS&&"ios"===utils.mobileUserAgent())}},RETRIES=2,RETRY_DELAY=200,TIMEOUT=5e3,Server=function(){};Server.prototype._jsonp_callback_index=0,Server.prototype.serializeObject=function(e,t){var n=[];if(e instanceof Array)for(var i=0;i<e.length;i++)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[i]));else for(i in e)e.hasOwnProperty(i)&&(e[i]instanceof Array||"object"==typeof e[i]?n.push(this.serializeObject(e[i],t?t+"."+i:i)):n.push(encodeURIComponent(t?t+"."+i:i)+"="+encodeURIComponent(e[i])));return n.join("&")},Server.prototype.getUrl=function(e,t){var n,i,o=e.destination+e.endpoint,r=/^[0-9]{15,20}$/,a=/key_(live|test)_[A-Za-z0-9]{32}/,s=function(t,n){if("undefined"==typeof n&&(n={}),t.branch_key&&a.test(t.branch_key))return n.branch_key=t.branch_key,n;if(t.app_id&&r.test(t.app_id))return n.app_id=t.app_id,n;throw Error(utils.message(utils.messages.missingParam,[e.endpoint,"branch_key or app_id"]))};if("/v1/has-app"===e.endpoint)try{e.queryPart=s(t,e.queryPart)}catch(l){return{error:l.message}}if(e.queryPart)for(n in e.queryPart)if(e.queryPart.hasOwnProperty(n)){if(i="function"==typeof e.queryPart[n]?e.queryPart[n](e.endpoint,n,t[n]):i)return{error:i};o+="/"+t[n]}var c={};for(n in e.params)if(e.params.hasOwnProperty(n)){if(i=e.params[n](e.endpoint,n,t[n]))return{error:i};i=t[n],"undefined"!=typeof i&&""!==i&&null!==i&&(c[n]=i)}if("POST"===e.method||"/v1/credithistory"===e.endpoint)try{t=s(t,c)}catch(d){return{error:d.message}}return"/v1/event"===e.endpoint&&(c.metadata=JSON.stringify(c.metadata||{})),{data:this.serializeObject(c,""),url:o}},Server.prototype.createScript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,document.getElementsByTagName("head")[0].appendChild(t)};var jsonp_callback_index=0;Server.prototype.jsonpRequest=function(e,t,n,i){var o="branch_callback__"+this._jsonp_callback_index++,r=0<=e.indexOf("api.branch.io")?"&data=":"&post_data=";
t="POST"===n?encodeURIComponent(utils.base64encode(goog.json.serialize(t))):"";var a=window.setTimeout(function(){window[o]=function(){},i(Error(utils.messages.timeout),null,504)},TIMEOUT);window[o]=function(e){window.clearTimeout(a),i(null,e)},this.createScript(e+(0>e.indexOf("?")?"?":"")+(t?r+t:"")+(0<=e.indexOf("/c/")?"&click=1":"")+"&callback="+o)},Server.prototype.XHRRequest=function(e,t,n,i,o){var r=TITANIUM_BUILD?Ti.Network.createHTTPClient():window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.ontimeout=function(){o(Error(utils.messages.timeout),null,504)},TITANIUM_BUILD?(r.onerror=function(e){402===r.status?o(Error("Not enough credits to redeem."),null,r.status):e.error?o(Error(e.error),null,r.status):o(Error("Error in API: "+r.status),null,r.status)},r.onload=function(){if(200===r.status)try{o(null,goog.json.parse(r.responseText),r.status)}catch(e){o(null,{},r.status)}else 402===r.status?o(Error("Not enough credits to redeem."),null,r.status):"4"!==r.status.toString().substring(0,1)&&"5"!==r.status.toString().substring(0,1)||o(Error("Error in API: "+r.status),null,r.status)}):r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)try{o(null,goog.json.parse(r.responseText),r.status)}catch(e){o(null,{},r.status)}else 402===r.status?o(Error("Not enough credits to redeem."),null,r.status):"4"!==r.status.toString().substring(0,1)&&"5"!==r.status.toString().substring(0,1)||o(Error("Error in API: "+r.status),null,r.status)};try{r.open(n,e,!0),r.timeout=TIMEOUT,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(t)}catch(a){i.set("use_jsonp",!0),this.jsonpRequest(e,t,n,o)}},Server.prototype.request=function(e,t,n,i){var o=this,r=this.getUrl(e,t);if(r.error)return i(Error(r.error));var a,s="";"GET"===e.method?a=r.url+"?"+r.data:(a=r.url,s=r.data);var l=RETRIES,c=function(e,t,n){e&&l>0&&"5"===n.toString().substring(0,1)?(l--,window.setTimeout(function(){d()},RETRY_DELAY)):i(e,t)},d=function(){n.get("use_jsonp")||e.jsonp?o.jsonpRequest(a,t,e.method,c):o.XHRRequest(a,s,e.method,n,c)};d()};var resources={},validationTypes={obj:0,str:1,num:2,arr:3,bool:4},_validator,branch_id=/^[0-9]{15,20}$/;WEB_BUILD&&(resources.open={destination:config.api_endpoint,endpoint:"/v1/open",method:utils.httpMethod.POST,params:{identity_id:validator(!1,branch_id),link_identifier:validator(!1,validationTypes.str),is_referrable:validator(!0,validationTypes.num),sdk:validator(!1,validationTypes.str),browser_fingerprint_id:validator(!0,branch_id)}},resources._r={destination:config.link_service_endpoint,endpoint:"/_r",method:utils.httpMethod.GET,jsonp:!0,params:{sdk:validator(!0,validationTypes.str)}},resources.linkClick={destination:config.link_service_endpoint,endpoint:"",method:utils.httpMethod.GET,queryPart:{link_url:validator(!0,validationTypes.str)},params:{click:validator(!0,validationTypes.str)}},resources.SMSLinkSend={destination:config.link_service_endpoint,endpoint:"/c",method:utils.httpMethod.POST,queryPart:{link_url:validator(!0,validationTypes.str)},params:{sdk:validator(!1,validationTypes.str),phone:validator(!0,validationTypes.str)}}),(CORDOVA_BUILD||TITANIUM_BUILD)&&(resources.install={destination:config.api_endpoint,endpoint:"/v1/install",method:utils.httpMethod.POST,params:{link_identifier:validator(!1,validationTypes.str),sdk:validator(!1,validationTypes.str),hardware_id:validator(!1,validationTypes.str),is_hardware_id_real:validator(!1,validationTypes.bool),app_version:validator(!1,validationTypes.str),carrier:validator(!1,validationTypes.str),bluetooth:validator(!1,validationTypes.bool),bluetooth_version:validator(!1,validationTypes.str),has_nfc:validator(!1,validationTypes.bool),has_telephone:validator(!1,validationTypes.bool),brand:validator(!1,validationTypes.str),model:validator(!1,validationTypes.str),os:validator(!1,validationTypes.str),uri_scheme:validator(!1,validationTypes.str),os_version:validator(!1,validationTypes.str),screen_dpi:validator(!1,validationTypes.num),screen_width:validator(!1,validationTypes.num),screen_height:validator(!1,validationTypes.num),is_referrable:validator(!1,validationTypes.num),update:validator(!1,validationTypes.num),add_tracking_enabled:validator(!1,validationTypes.bool)}},resources.open={destination:config.api_endpoint,endpoint:"/v1/open",method:utils.httpMethod.POST,params:{identity_id:validator(!0,branch_id),link_identifier:validator(!1,validationTypes.str),device_fingerprint_id:validator(!0,branch_id),sdk:validator(!1,validationTypes.str),hardware_id:validator(!1,validationTypes.str),is_hardware_id_real:validator(!1,validationTypes.bool),app_version:validator(!1,validationTypes.str),os:validator(!1,validationTypes.str),uri_scheme:validator(!1,validationTypes.str),os_version:validator(!1,validationTypes.str),is_referrable:validator(!1,validationTypes.num)}},resources.close={destination:config.api_endpoint,endpoint:"/v1/close",method:utils.httpMethod.POST,params:{identity_id:validator(!0,branch_id),sdk:validator(!0,validationTypes.str),session_id:validator(!0,branch_id),link_click_id:validator(!1,branch_id),device_fingerprint_id:validator(!0,branch_id)}}),resources.getCode={destination:config.api_endpoint,endpoint:"/v1/referralcode",method:utils.httpMethod.POST,params:defaults({prefix:validator(!1,validationTypes.str),amount:validator(!0,validationTypes.num),expiration:validator(!1,validationTypes.str),calculation_type:validator(!0,validationTypes.num),location:validator(!0,validationTypes.num),creation_type:validator(!0,validationTypes.num),type:validator(!0,validationTypes.str),bucket:validator(!1,validationTypes.str)})},resources.validateCode={destination:config.api_endpoint,endpoint:"/v1/referralcode",method:utils.httpMethod.POST,queryPart:{code:validator(!0,validationTypes.str)},params:defaults({})},resources.applyCode={destination:config.api_endpoint,endpoint:"/v1/applycode",method:utils.httpMethod.POST,queryPart:{code:validator(!0,validationTypes.str)},params:defaults({})},resources.logout={destination:config.api_endpoint,endpoint:"/v1/logout",method:utils.httpMethod.POST,params:defaults({session_id:validator(!0,branch_id)})},resources.profile={destination:config.api_endpoint,endpoint:"/v1/profile",method:utils.httpMethod.POST,params:defaults({identity_id:validator(!0,branch_id),identity:validator(!0,validationTypes.str)})},resources.referrals={destination:config.api_endpoint,endpoint:"/v1/referrals",method:utils.httpMethod.GET,queryPart:{identity_id:validator(!0,branch_id)},params:defaults({})},resources.creditHistory={destination:config.api_endpoint,endpoint:"/v1/credithistory",method:utils.httpMethod.GET,params:defaults({link_click_id:validator(!1,branch_id),length:validator(!1,validationTypes.num),direction:validator(!1,validationTypes.num),begin_after_id:validator(!1,branch_id),bucket:validator(!1,validationTypes.str)})},resources.credits={destination:config.api_endpoint,endpoint:"/v1/credits",method:utils.httpMethod.GET,queryPart:{identity_id:validator(!0,branch_id)},params:defaults({})},resources.redeem={destination:config.api_endpoint,endpoint:"/v1/redeem",method:utils.httpMethod.POST,params:defaults({identity_id:validator(!0,branch_id),amount:validator(!0,validationTypes.num),bucket:validator(!0,validationTypes.str)})},resources.link={destination:config.api_endpoint,endpoint:"/v1/url",method:utils.httpMethod.POST,ref:"obj",params:defaults({identity_id:validator(!0,branch_id),data:validator(!1,validationTypes.str),tags:validator(!1,validationTypes.arr),feature:validator(!1,validationTypes.str),campaign:validator(!1,validationTypes.str),channel:validator(!1,validationTypes.str),stage:validator(!1,validationTypes.str),type:validator(!1,validationTypes.num),alias:validator(!1,validationTypes.str)})},resources.hasApp={destination:config.api_endpoint,endpoint:"/v1/has-app",method:utils.httpMethod.GET,params:{browser_fingerprint_id:validator(!0,branch_id)}},resources.event={destination:config.api_endpoint,endpoint:"/v1/event",method:utils.httpMethod.POST,params:defaults({event:validator(!0,validationTypes.str),metadata:validator(!0,validationTypes.obj)})};var banner_css={banner:function(e){return".branch-banner-is-active { -webkit-transition: all "+1.5*banner_utils.animationSpeed/1e3+"s ease; transition: all 0"+1.5*banner_utils.animationSpeed/1e3+"s ease; }\n#branch-banner { width:100%; z-index: 99999; font-family: Helvetica Neue, Sans-serif; -webkit-font-smoothing: antialiased; -webkit-user-select: none; -moz-user-select: none; user-select: none; -webkit-transition: all "+banner_utils.animationSpeed/1e3+"s ease; transition: all 0"+banner_utils.animationSpeed/1e3+"s ease; }\n#branch-banner * { margin-right: 4px; position: relative; line-height: 1.2em; }\n#branch-banner-close { font-weight: 400; cursor: pointer; float: left; z-index: 2; }\n#branch-banner .content { width:100%; overflow: hidden; height: "+banner_utils.bannerHeight+"; background: rgba(255, 255, 255, 0.95); color: #333; "+("top"===e.position?"border-bottom":"border-top")+': 1px solid #ddd; }\n#branch-banner .icon { float: left; padding-bottom: 40px; }\n#branch-banner .content .left { padding: 6px; }\n#branch-banner .icon img { width: 63px; height: 63px; }\n#branch-banner .vertically-align-middle { top: 50%; transform: translateY(-50%); -webkit-transform: translateY(-50%); -ms-transform: translateY(-50%); }\n#branch-banner .details > * { display: block; }\n#branch-banner .content .left { height: 63px; }\n#branch-banner .content .right { float: right; height: 63px; margin-bottom: 50px; padding-top: 6px; z-index: 1; }\n#branch-banner .right > div { float: left; padding-top: 3px; }\n#branch-banner-action { top: 17px; }\n#branch-banner .content:after { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: rgba(0, 0, 0, 0.2); }\n'},desktop:"#branch-banner { position: fixed; min-width: 600px; }\n#branch-banner-close { color: #aaa; font-size: 24px; top: 14px; }\n#branch-banner-close:hover { color: #000; }\n#branch-banner .title { font-size: 14px; }\n#branch-banner .description { font-size: 12px; font-weight: normal; }\n#branch-sms-block * { vertical-align: bottom; font-size: 15px; }\n#branch-sms-block { display: inline-block; }\n#branch-sms-phone { font-weight: 400; border-radius: 4px; height: 30px; border: 1px solid #ccc; padding: 5px 7px 4px; width: 145px; font-size: 14px; }\n#branch-sms-send { cursor: pointer; margin-top: 0px; font-size: 14px; display: inline-block; height: 30px; margin-left: 5px; font-weight: 400; border-radius: 4px; border: 1px solid #ccc; background: #fff; color: #000; padding: 0px 12px; }\n#branch-sms-send:hover { border: 1px solid #BABABA; background: #E0E0E0; }\n#branch-sms-phone:focus, button:focus { outline: none; }\n#branch-sms-phone.error { color: rgb(194, 0, 0); border-color: rgb(194, 0, 0); }\n#branch-banner .branch-icon-wrapper { width:25px; height: 25px; vertical-align: middle; display: inline-block; margin-top: -18px; }\n@keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n@-webkit-keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n#branch-spinner { -webkit-animation: branch-spinner 1s ease-in-out infinite; animation: branch-spinner 1s ease-in-out infinite; transition: all 0.7s ease-in-out; border:2px solid #ddd; border-bottom-color:#428bca; width:80%; height:80%; border-radius:50%; -webkit-font-smoothing: antialiased !important; }\n",nonie:"#branch-banner .checkmark { stroke: #428bca; stroke-dashoffset: 745.74853515625; stroke-dasharray: 745.74853515625; -webkit-animation: dash 2s ease-out forwards; animation: dash 2s ease-out forwards; }\n@-webkit-keyframes dash { 0% { stroke-dashoffset: 745.748535 15625; } 100% { stroke-dashoffset: 0; } }\n@keyframes dash { 0% { stroke-dashoffset: 745.74853515625; } 100% { stroke-dashoffset: 0; } }\n",ie:"#branch-banner .checkmark { color: #428bca; font-size: 22px; }\n",mobile:"#branch-banner { position: absolute; }\n#branch-banner-close { margin-top: 22px; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-banner a { text-decoration: none; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n",ios:"#branch-banner-close { margin-left: 4px; }\n#branch-banner a { color: #428bca; }\n",android:"#branch-banner-close { height:17px; width: 17px; text-align: center; font-size: 15px; border-radius:14px; border:0; line-height:14px; color:#b1b1b3; background:#efefef; }\n#branch-mobile-action { top: 0; text-decoration:none; border-bottom: 3px solid #A4C639; padding: 0 10px; height: 24px; line-height: 24px; text-align: center; color: #fff; font-weight: bold; background-color: #A4C639; border-radius: 5px; }\n#branch-mobile-action:hover { border-bottom:3px solid #8c9c29; background-color: #c1d739; }\n"};banner_css.iframe="body { -webkit-transition: all "+1.5*banner_utils.animationSpeed/1e3+"s ease; transition: all 0"+1.5*banner_utils.animationSpeed/1e3+"s ease; }\n#branch-banner-iframe { box-shadow: 0 0 1px rgba(0,0,0,0.2); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: "+banner_utils.bannerHeight+"; z-index: 99999; -webkit-transition: all "+banner_utils.animationSpeed/1e3+"s ease; transition: all 0"+banner_utils.animationSpeed/1e3+"s ease; }\n",banner_css.inneriframe="body { margin: 0; }\n",banner_css.iframe_position=function(e,t){return"#branch-banner-iframe { position: "+("top"!==t||e?"fixed":"absolute")+"; }\n"},banner_css.css=function(e,t){var n=banner_css.banner(e),i=utils.mobileUserAgent();"ios"!==i&&"ipad"!==i||!e.showiOS?"android"===i&&e.showAndroid?n+=banner_css.mobile+banner_css.android:(n+=banner_css.desktop,n=window.ActiveXObject?n+banner_css.ie:n+banner_css.nonie):n+=banner_css.mobile+banner_css.ios,n+=e.customCSS,e.iframe&&(n+=banner_css.inneriframe,i=document.createElement("style"),i.type="text/css",i.id="branch-iframe-css",i.innerHTML=banner_css.iframe+(utils.mobileUserAgent()?banner_css.iframe_position(e.mobileSticky,e.position):banner_css.iframe_position(e.desktopSticky,e.position)),document.head.appendChild(i)),i=document.createElement("style"),i.type="text/css",i.id="branch-css",i.innerHTML=n,(e.iframe?t.contentWindow.document:document).head.appendChild(i),"top"===e.position?t.style.top="-"+banner_utils.bannerHeight:"bottom"===e.position&&(t.style.bottom="-"+banner_utils.bannerHeight)};var banner_html={banner:function(e,t){return'<div class="content"><div class="right vertically-align-middle">'+t+'</div><div class="left">'+(e.disableHide?"":'<div id="branch-banner-close" class="branch-animation">&times;</div>')+'<div class="icon"><img src="'+e.icon+'"></div><div class="details vertically-align-middle"><div class="title">'+e.title+'</div><div class="description">'+e.description+"</div></div></div></div>"},mobileAction:function(e,t,n){return'<a id="branch-mobile-action" href="#" target="_parent">'+(session.get(t).has_app?e.openAppButtonText:e.downloadAppButtonText)+"</a>"},desktopAction:function(e){return'<div class="branch-icon-wrapper" id="branch-loader-wrapper" style="opacity: 0;"><div id="branch-spinner"></div></div><div id="branch-sms-block"><form id="sms-form"><input type="phone" class="branch-animation" name="branch-sms-phone" id="branch-sms-phone" placeholder="'+e.phonePreviewText+'"><button type="submit" id="branch-sms-send" class="branch-animation">'+e.sendLinkText+"</button></form></div>"},checkmark:function(){return window.ActiveXObject?'<span class="checkmark">&#x2713;</span>':'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.5 98.5" enable-background="new 0 0 98.5 98.5" xml:space="preserve"><path class="checkmark" fill="none" stroke-width="8" stroke-miterlimit="10" d="M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"/></svg>'},iframe:function(e,t){var n=document.createElement("iframe");n.src="about:blank",n.style.overflow="hidden",n.scrolling="no",n.id="branch-banner-iframe",n.className="branch-animation",document.body.appendChild(n);var i=utils.mobileUserAgent(),i='<html><head></head><body class="'+("ios"===i||"ipad"===i?"branch-banner-ios":"android"===i?"branch-banner-android":"branch-banner-desktop")+'"><div id="branch-banner" class="branch-animation">'+banner_html.banner(e,t)+"</body></html>";return n.contentWindow.document.open(),n.contentWindow.document.write(i),n.contentWindow.document.close(),n},div:function(e,t){var n=document.createElement("div");return n.id="branch-banner",n.className="branch-animation",n.innerHTML=banner_html.banner(e,t),document.body.appendChild(n),n},markup:function(e,t,n){return t='<div id="branch-sms-form-container" class="vertically-align-middle">'+(utils.mobileUserAgent()?banner_html.mobileAction(e,t,n):banner_html.desktopAction(e))+"</div>",e.iframe?banner_html.iframe(e,t):banner_html.div(e,t)}},sendSMS=function(e,t,n,i){var o,r=e.getElementById("branch-sms-phone"),a=e.getElementById("branch-sms-send"),s=e.getElementById("branch-loader-wrapper"),l=e.getElementById("branch-sms-form-container"),c=function(){a.removeAttribute("disabled"),r.removeAttribute("disabled"),a.style.opacity="1",r.style.opacity="1",s.style.opacity="0"},d=function(){o=e.createElement("div"),o.className="branch-icon-wrapper",o.id="branch-checkmark",o.style="opacity: 0;",o.innerHTML=banner_html.checkmark(),l.appendChild(o),a.style.opacity="0",r.style.opacity="0",s.style.opacity="0",setTimeout(function(){o.style.opacity="1"},banner_utils.animationDelay),r.value=""},u=function(){c(),a.style.background="#FFD4D4",r.className="error",setTimeout(function(){a.style.background="#FFFFFF",r.className=""},banner_utils.error_timeout)};if(r){var g=r.value;/^\d{7,}$/.test(g.replace(/[\s()+\-\.]|ext/gi,""))?(t._publishEvent("willSendBannerSMS"),a.setAttribute("disabled",""),r.setAttribute("disabled",""),a.style.opacity=".4",r.style.opacity=".4",s.style.opacity="1",r.className="",t.sendSMS(g,i,n,function(e){e?(t._publishEvent("sendBannerSMSError"),u()):(t._publishEvent("didSendBannerSMS"),d(),setTimeout(function(){l.removeChild(o),c()},banner_utils.success_timeout))})):u()}},banner=function(e,t,n,i){if(!banner_utils.shouldAppend(i,t))return e._publishEvent("willNotShowBanner"),null;e._publishEvent("willShowBanner");var o=banner_html.markup(t,i);banner_css.css(t,o),n.channel=n.channel||"app banner";var r=t.iframe?o.contentWindow.document:document;if(utils.mobileUserAgent()){var a=e._referringLink();a&&!t.make_new_link?r.getElementById("branch-mobile-action").href=a:e.link(n,function(e,t){e||(r.getElementById("branch-mobile-action").href=t)})}else r.getElementById("sms-form").addEventListener("submit",function(i){i.preventDefault(),sendSMS(r,e,t,n)});var a=banner_utils.getBodyStyle("margin-top"),s=document.body.style.marginTop,l=banner_utils.getBodyStyle("margin-bottom"),c=document.body.style.marginBottom,d=r.getElementById("branch-banner-close"),u=function(e){setTimeout(function(){banner_utils.removeElement(o),banner_utils.removeElement(document.getElementById("branch-css")),e()},banner_utils.animationSpeed+banner_utils.animationDelay),setTimeout(function(){"top"===t.position?document.body.style.marginTop=s:"bottom"===t.position&&(document.body.style.marginBottom=c),banner_utils.removeClass(document.body,"branch-banner-is-active")},banner_utils.animationDelay),"top"===t.position?o.style.top="-"+banner_utils.bannerHeight:"bottom"===t.position&&(o.style.bottom="-"+banner_utils.bannerHeight),"number"==typeof t.forgetHide?i.set("hideBanner",banner_utils.getDate(t.forgetHide)):i.set("hideBanner",!0)};return d&&(d.onclick=function(t){t.preventDefault(),e._publishEvent("willCloseBanner"),u(function(){e._publishEvent("didCloseBanner")})}),banner_utils.addClass(document.body,"branch-banner-is-active"),"top"===t.position?document.body.style.marginTop=banner_utils.addCSSLengths(banner_utils.bannerHeight,a):"bottom"===t.position&&(document.body.style.marginBottom=banner_utils.addCSSLengths(banner_utils.bannerHeight,l)),setTimeout(function(){"top"===t.position?o.style.top="0":"bottom"===t.position&&(o.style.bottom="0"),e._publishEvent("didShowBanner")},banner_utils.animationDelay),u},default_branch,callback_params={NO_CALLBACK:0,CALLBACK_ERR:1,CALLBACK_ERR_DATA:2},init_states={NO_INIT:0,INIT_PENDING:1,INIT_FAILED:2,INIT_SUCCEEDED:3},wrap=function(e,t,n){return function(){var i,o,r=this,a=arguments[arguments.length-1];e===callback_params.NO_CALLBACK||"function"!=typeof a?(o=function(e){if(e)throw e},i=Array.prototype.slice.call(arguments)):(i=Array.prototype.slice.call(arguments,0,arguments.length-1)||[],o=a),r._queue(function(a){var s=function(t,n){if(t&&e===callback_params.NO_CALLBACK)throw t;e===callback_params.CALLBACK_ERR?o(t):e===callback_params.CALLBACK_ERR_DATA&&o(t,n),a()};if(!n){if(r.init_state===init_states.INIT_PENDING)return s(Error(utils.message(utils.messages.initPending)),null);if(r.init_state===init_states.INIT_FAILED)return s(Error(utils.message(utils.messages.initFailed)),null);if(r.init_state===init_states.NO_INIT||!r.init_state)return s(Error(utils.message(utils.messages.nonInit)),null)}i.unshift(s),t.apply(r,i)})}},Branch=function(){if(!(this instanceof Branch))return default_branch||(default_branch=new Branch),default_branch;this._queue=Queue();var e=[];CORDOVA_BUILD?e=["local"]:TITANIUM_BUILD?e=["titanium"]:WEB_BUILD&&(e=utils.mobileUserAgent()?["local","permcookie"]:["session","cookie"]),e.push("pojo"),this._storage=new BranchStorage(e),this._server=new Server,e="web",this._listeners=[],CORDOVA_BUILD&&(e="cordova"),TITANIUM_BUILD&&(e="titanium"),this.sdk=e+config.version,(CORDOVA_BUILD||TITANIUM_BUILD)&&(this.debug=!1),this.init_state=init_states.NO_INIT};Branch.prototype._api=function(e,t,n){return this.app_id&&(t.app_id=this.app_id),this.branch_key&&(t.branch_key=this.branch_key),(e.params&&e.params.session_id||e.queryPart&&e.queryPart.session_id)&&this.session_id&&(t.session_id=this.session_id),(e.params&&e.params.identity_id||e.queryPart&&e.queryPart.identity_id)&&this.identity_id&&(t.identity_id=this.identity_id),(e.params&&e.params.link_click_id||e.queryPart&&e.queryPart.link_click_id)&&this.link_click_id&&(t.link_click_id=this.link_click_id),(e.params&&e.params.sdk||e.queryPart&&e.queryPart.sdk)&&this.sdk&&(t.sdk=this.sdk),(CORDOVA_BUILD||TITANIUM_BUILD)&&(e.params&&e.params.device_fingerprint_id||e.queryPart&&e.queryPart.device_fingerprint_id)&&this.device_fingerprint_id&&(t.device_fingerprint_id=this.device_fingerprint_id),this._server.request(e,t,this._storage,function(e,t){n(e,t)})},Branch.prototype._referringLink=function(){var e=session.get(this._storage);return(e=e&&e.referring_link)?e:(e=this._storage.get("click_id"))?config.link_service_endpoint+"/c/"+e:null},Branch.prototype._publishEvent=function(e){for(var t=0;t<this._listeners.length;t++)this._listeners[t].event&&this._listeners[t].event!==e||this._listeners[t].listener(e)},(CORDOVA_BUILD||TITANIUM_BUILD)&&(Branch.prototype.setDebug=function(e){this.debug=e}),Branch.prototype.init=wrap(callback_params.CALLBACK_ERR_DATA,function(e,t,n){var i=this;i.init_state=init_states.INIT_PENDING,utils.isKey(t)?i.branch_key=t:i.app_id=t,n=n&&"function"==typeof n?{isReferrable:null}:n,TITANIUM_BUILD&&"android"===Ti.Platform.osname&&(i.keepAlive=!0);var o=function(e){return e.session_id&&(i.session_id=e.session_id.toString()),e.identity_id&&(i.identity_id=e.identity_id.toString()),e.link&&(i.sessionLink=e.link),e.referring_link&&(e.referring_link=utils.processReferringLink(e.referring_link)),!e.click_id&&e.referring_link&&(e.click_id=utils.clickIdFromLink(e.referring_link)),(CORDOVA_BUILD||TITANIUM_BUILD)&&(i.device_fingerprint_id=e.device_fingerprint_id,e.link_click_id&&(i.link_click_id=e.link_click_id)),e};t=n&&"undefined"!=typeof n.isReferrable&&null!==n.isReferrable?n.isReferrable:null;var r=session.get(i._storage);n=n&&"undefined"!=typeof n.url&&null!==n.url?n.url:null;var a=WEB_BUILD?utils.getParamValue("_branch_match_id")||utils.hashValue("r"):n?utils.getParamValue(n):null,s=!r||!r.identity_id,l=function(e,t){WEB_BUILD&&i._api(resources._r,{sdk:config.version},function(e,t){t&&(n.browser_fingerprint_id=t)});var n=e||session.get(i._storage);i._api(resources.hasApp,{browser_fingerprint_id:n.browser_fingerprint_id},function(e,o){o&&!n.has_app&&(n.has_app=!0,session.update(i._storage,n),i._publishEvent("didDownloadApp")),t&&t(e,n)})},c=function(t,n){n&&(n=o(n),session.set(i._storage,n,s),i.init_state=init_states.INIT_SUCCEEDED,n.data_parsed=n.data?goog.json.parse(n.data):null),t&&(i.init_state=init_states.INIT_FAILED),i.keepAlive&&setTimeout(function(){i.keepAlive=!1},2e3),e(t,n&&utils.whiteListSessionData(n))},d=function(){var e,t;"undefined"!=typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,function(){document[e]||l(null,null)},!1)};if(WEB_BUILD&&r&&r.session_id&&(utils.processReferringLink(a)===r.referring_link||a===r.click_id))d(),l(r,c);else{if(CORDOVA_BUILD||TITANIUM_BUILD){if(n=function(e){s||(e.identity_id=r.identity_id,e.device_fingerprint_id=r.device_fingerprint_id),i._api(s?resources.install:resources.open,e,function(e,t){c(e,t)})},CORDOVA_BUILD){var u=[];null!==t&&u.push(t?1:0),cordova.require("cordova/exec")(n,function(){e("Error getting device data!")},"BranchDevice",s?"getInstallData":"getOpenData",u)}if(TITANIUM_BUILD){var u={},g=require("io.branch.sdk");a&&(u.link_identifier=a),u=s?g.getInstallData(i.debug,null===t?-1:t?1:0):g.getOpenData(null===t?-1:t?1:0),n(u)}}WEB_BUILD&&i._api(resources._r,{sdk:config.version},function(e,t){return e?c(e,null):void i._api(resources.open,{link_identifier:a,is_referrable:1,browser_fingerprint_id:t},function(e,t){t&&a&&(t.click_id=a),d(),c(e,t)})})}},!0),Branch.prototype.data=wrap(callback_params.CALLBACK_ERR_DATA,function(e){var t=utils.whiteListSessionData(session.get(this._storage));t.referring_link=this._referringLink(),e(null,t)}),Branch.prototype.first=wrap(callback_params.CALLBACK_ERR_DATA,function(e){e(null,utils.whiteListSessionData(session.get(this._storage,!0)))}),Branch.prototype.setIdentity=wrap(callback_params.CALLBACK_ERR_DATA,function(e,t){var n=this;this._api(resources.profile,{identity:t},function(i,o){i&&e(i),o=o||{},n.identity_id=o.identity_id?o.identity_id.toString():null,n.sessionLink=o.link,n.identity=t,o.referring_data_parsed=o.referring_data?goog.json.parse(o.referring_data):null,session.update(n._storage,o),e(null,o)})}),Branch.prototype.logout=wrap(callback_params.CALLBACK_ERR,function(e){var t=this;this._api(resources.logout,{},function(n,i){n&&e(n),i=i||{},i={data_parsed:null,data:null,referring_link:null,click_id:null,link_click_id:null,identity:null,session_id:i.session_id,identity_id:i.identity_id,link:i.link,device_fingerprint_id:t.device_fingerprint_id||null},t.sessionLink=i.link,t.session_id=i.session_id,t.identity_id=i.identity_id,t.identity=i.identity,session.update(t._storage,i),e(n)})}),(CORDOVA_BUILD||TITANIUM_BUILD)&&(Branch.prototype.close=wrap(callback_params.CALLBACK_ERR,function(e){var t=this;return this.keepAlive?e(null):void this._api(resources.close,{},function(n,i){delete t.session_id,delete t.sessionLink,t.init_state=init_states.NO_INIT,t._storage.clear(),e(null)})})),Branch.prototype.track=wrap(callback_params.CALLBACK_ERR,function(e,t,n){n||(n={}),TITANIUM_BUILD?this._api(resources.event,{event:t,metadata:n||{}},e):this._api(resources.event,{event:t,metadata:utils.merge({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},n||{})},e)}),Branch.prototype.link=wrap(callback_params.CALLBACK_ERR_DATA,function(e,t){this._api(resources.link,utils.cleanLinkData(t,config),function(t,n){e(t,n&&n.url)})}),Branch.prototype.sendSMS=wrap(callback_params.CALLBACK_ERR,function(e,t,n,i){function o(n){r._api(resources.SMSLinkSend,{link_url:n,phone:t},e)}var r=this;"function"==typeof i?i={}:("undefined"==typeof i||null===i)&&(i={}),i.make_new_link=i.make_new_link||!1,n.channel&&"app banner"!==n.channel||(n.channel="sms");var a=r._referringLink();a&&!i.make_new_link?o(a.substring(a.lastIndexOf("/")+1,a.length)):r._api(resources.link,utils.cleanLinkData(n,config),function(t,n){return t?e(t):void r._api(resources.linkClick,{link_url:"l/"+n.url.split("/").pop(),click:"click"},function(t,n){return t?e(t):(r._storage.set("click_id",n.click_id),void o(n.click_id))})})}),Branch.prototype.referrals=wrap(callback_params.CALLBACK_ERR_DATA,function(e){this._api(resources.referrals,{},e)}),Branch.prototype.getCode=wrap(callback_params.CALLBACK_ERR_DATA,function(e,t){t.type="credit",t.creation_type=t.creation_type||2,this._api(resources.getCode,t,e)}),Branch.prototype.validateCode=wrap(callback_params.CALLBACK_ERR,function(e,t){this._api(resources.validateCode,{code:t},e)}),Branch.prototype.applyCode=wrap(callback_params.CALLBACK_ERR,function(e,t){this._api(resources.applyCode,{code:t},e)}),Branch.prototype.credits=wrap(callback_params.CALLBACK_ERR_DATA,function(e){this._api(resources.credits,{},e)}),Branch.prototype.creditHistory=wrap(callback_params.CALLBACK_ERR_DATA,function(e,t){this._api(resources.creditHistory,t||{},e)}),Branch.prototype.redeem=wrap(callback_params.CALLBACK_ERR,function(e,t,n){this._api(resources.redeem,{amount:t,bucket:n},e)}),WEB_BUILD&&(Branch.prototype.addListener=function(e,t){"function"==typeof e&&void 0===t&&(t=e),t&&this._listeners.push({listener:t,event:e||null})},Branch.prototype.removeListener=function(e){e&&(this._listeners=this._listeners.filter(function(t){return t.listener!==e?t:void 0}))},Branch.prototype.banner=wrap(callback_params.NO_CALLBACK,function(e,t,n){"undefined"==typeof t.showAgain&&"undefined"!=typeof t.forgetHide&&(t.showAgain=t.forgetHide);var i={icon:t.icon||"",title:t.title||"",description:t.description||"",openAppButtonText:t.openAppButtonText||"View in app",downloadAppButtonText:t.downloadAppButtonText||"Download App",sendLinkText:t.sendLinkText||"Send Link",phonePreviewText:t.phonePreviewText||"(999) 999-9999",iframe:"undefined"==typeof t.iframe?!0:t.iframe,showiOS:"undefined"==typeof t.showiOS?!0:t.showiOS,showiPad:"undefined"==typeof t.showiPad?!0:t.showiPad,showAndroid:"undefined"==typeof t.showAndroid?!0:t.showAndroid,showDesktop:"undefined"==typeof t.showDesktop?!0:t.showDesktop,disableHide:!!t.disableHide,forgetHide:"number"==typeof t.forgetHide?t.forgetHide:!!t.forgetHide,position:t.position||"top",customCSS:t.customCSS||"",mobileSticky:"undefined"==typeof t.mobileSticky?!1:t.mobileSticky,desktopSticky:"undefined"==typeof t.desktopSticky?!0:t.desktopSticky,make_new_link:!!t.make_new_link};"undefined"!=typeof t.showMobile&&(i.showiOS=t.showMobile,i.showAndroid=t.showMobile),this.closeBannerPointer=banner(this,i,n,this._storage),e()}),Branch.prototype.closeBanner=wrap(0,function(e){if(this.closeBannerPointer){var t=this;this._publishEvent("willCloseBanner"),this.closeBannerPointer(function(){
t._publishEvent("didCloseBanner")})}e()}));var branch_instance=new Branch;if(!TITANIUM_BUILD&&window.branch&&window.branch._q)for(var queue=window.branch._q,i=0;i<queue.length;i++){var task=queue[i];branch_instance[task[0]].apply(branch_instance,task[1])}"function"==typeof define&&define.amd?define("branch",function(){return branch_instance}):"object"==typeof exports&&(module.exports=branch_instance),TITANIUM_BUILD||window&&(window.branch=branch_instance),CORDOVA_BUILD&&document.addEventListener("pause",function(){console.log("Closing branch session on pause event."),branch_instance.close(function(){})},!1)}(),function(e,t,n){"use strict";function i(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(function(t){return i(e,t)}):t&&Array.isArray(t.or)?t.or.some(function(t){return i(e,t)}):t&&t.not?!i(e,t.not):!1}function o(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce(function(t,n){return t?t:o(e,n)},null):null}n&&n.module("reTree",[]).factory("reTree",[function(){return{test:i,exec:o}}]),t&&(t.reTree={test:i,exec:o}),e&&(e.exports={test:i,exec:o})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),function(e){"use strict";e.module("ng.deviceDetector",["reTree"]).constant("BROWSERS",{CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("DEVICES",{ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("OS_VERSIONS",{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,n,i){var o=e;this.isMobile=function(){return"unknown"!==o.device},this.isAndroid=function(){return o.device===t.ANDROID||o.OS===i.ANDROID},this.isIOS=function(){return o.os===i.IOS||o.device===t.I_POD||o.device===t.IPHONE}}]).factory("deviceDetector",["$window","DEVICES","BROWSERS","OS","OS_VERSIONS","reTree",function(e,t,n,i,o,r){var a={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:/Windows Phone/}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/Windows Phone/}]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},s={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/]}}]},FIREFOX:/\bFirefox\b/,SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/,/Windows Phone/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},l={ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:{and:[/\biPhone\b/,{not:/Windows Phone/}]},I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},c={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]}},d={CHROME:/\bChrome\/([\d\.]+)\b/,FIREFOX:/\bFirefox\/([\d\.]+)\b/,SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdge\/([\d\.]+)\b/},u=Object.keys(d).reduce(function(e,t){return e[n[t]]=d[t],e},{}),g=e.navigator.userAgent,p={raw:{userAgent:g,os:{},browser:{},device:{}}};if(p.raw.os=Object.keys(i).reduce(function(e,t){return e[i[t]]=r.test(g,a[t]),e},{}),p.raw.browser=Object.keys(n).reduce(function(e,t){return e[n[t]]=r.test(g,s[t]),e},{}),p.raw.device=Object.keys(t).reduce(function(e,n){return e[t[n]]=r.test(g,l[n]),e},{}),p.raw.os_version=Object.keys(o).reduce(function(e,t){return e[o[t]]=r.test(g,c[t]),e},{}),p.os=[i.WINDOWS,i.IOS,i.MAC,i.ANDROID,i.LINUX,i.UNIX,i.FIREFOX_OS,i.CHROME_OS,i.WINDOWS_PHONE,i.PS4,i.VITA].reduce(function(e,t){return e===i.UNKNOWN&&p.raw.os[t]?t:e},i.UNKNOWN),p.browser=[n.CHROME,n.FIREFOX,n.SAFARI,n.OPERA,n.IE,n.MS_EDGE,n.PS4,n.VITA].reduce(function(e,t){return e===n.UNKNOWN&&p.raw.browser[t]?t:e},n.UNKNOWN),p.device=[t.ANDROID,t.I_PAD,t.IPHONE,t.I_POD,t.BLACKBERRY,t.FIREFOX_OS,t.CHROME_BOOK,t.WINDOWS_PHONE,t.PS4,t.VITA].reduce(function(e,n){return e===t.UNKNOWN&&p.raw.device[n]?n:e},t.UNKNOWN),p.os_version=[o.WINDOWS_3_11,o.WINDOWS_95,o.WINDOWS_ME,o.WINDOWS_98,o.WINDOWS_CE,o.WINDOWS_2000,o.WINDOWS_XP,o.WINDOWS_SERVER_2003,o.WINDOWS_VISTA,o.WINDOWS_7,o.WINDOWS_8_1,o.WINDOWS_8,o.WINDOWS_10,o.WINDOWS_PHONE_7_5,o.WINDOWS_PHONE_8_1,o.WINDOWS_PHONE_10,o.WINDOWS_NT_4_0].reduce(function(e,t){return e===o.UNKNOWN&&p.raw.os_version[t]?t:e},o.UNKNOWN),p.browser_version="0",p.browser!==n.UNKNOWN){var f=u[p.browser],h=r.exec(g,f);h&&(p.browser_version=h[1])}return p.isMobile=function(){return[t.ANDROID,t.I_PAD,t.IPHONE,t.I_POD,t.BLACKBERRY,t.FIREFOX_OS,t.CHROME_BOOK,t.WINDOWS_PHONE,t.VITA].some(function(e){return p.device==e})},p.isTablet=function(){return[t.I_PAD,t.FIREFOX_OS,t.CHROME_BOOK].some(function(e){return p.device==e})},p.isDesktop=function(){return[t.PS4,t.UNKNOWN].some(function(e){return p.device==e})},p}]).directive("deviceDetector",["deviceDetector",function(e){return{restrict:"A",link:function(t,n){n.addClass("os-"+e.os),n.addClass("browser-"+e.browser),n.addClass("device-"+e.device)}}}])}(angular),angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(e){e.put("vg-templates/vg-media-video","<video></video>"),e.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(e,t,n,i,o,r,a){var s=null,l=!1,c=!1;this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src=""},this.onRouteChange=function(){(void 0===this.clearMediaOnNavigate||this.clearMediaOnNavigate===!0)&&this.clearMedia()},this.onCanPlay=function(t){this.isBuffering=!1,e.$apply(e.vgCanPlay({$event:t}))},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=e.vgAutoPlay,this.playsInline=e.vgPlaysInline,this.nativeFullscreen=e.vgNativeFullscreen||!0,this.cuePoints=e.vgCuePoints,this.clearMediaOnNavigate=e.vgClearMediaOnNavigate||!0,this.currentState=r.STOP,c=!0,o.supportsLocalStorage()&&this.setVolume(parseFloat(t.localStorage.getItem(a)||"1")),e.vgConfig?n.loadConfig(e.vgConfig).then(this.onLoadConfig.bind(this)):e.vgPlayerReady({$API:this})},this.onLoadConfig=function(t){this.config=t,e.vgTheme=this.config.theme,e.vgAutoPlay=this.config.autoPlay,e.vgPlaysInline=this.config.playsInline,e.vgNativeFullscreen=this.config.nativeFullscreen,e.vgCuePoints=this.config.cuePoints,e.vgClearMediaOnNavigate=this.config.clearMediaOnNavigate,e.vgPlayerReady({$API:this})},this.onLoadMetaData=function(e){this.isBuffering=!1,this.onUpdateTime(e)},this.onUpdateTime=function(t){this.currentTime=1e3*t.target.currentTime,t.target.duration!=1/0?(this.totalTime=1e3*t.target.duration,this.timeLeft=1e3*(t.target.duration-t.target.currentTime),this.isLive=!1):this.isLive=!0,this.cuePoints&&this.checkCuePoints(t.target.currentTime),e.vgUpdateTime({$currentTime:t.target.currentTime,$duration:t.target.duration}),e.$apply()},this.checkCuePoints=function(e){for(var t in this.cuePoints)for(var n=0,i=this.cuePoints[t].length;i>n;n++){var o=this.cuePoints[t][n];o.timeLapse.end||(o.timeLapse.end=o.timeLapse.start+1),e<o.timeLapse.end&&(o.$$isCompleted=!1),e>o.timeLapse.start?(o.$$isDirty=!0,e<o.timeLapse.end&&o.onUpdate&&o.onUpdate(e,o.timeLapse,o.params),e>=o.timeLapse.end&&o.onComplete&&!o.$$isCompleted&&(o.$$isCompleted=!0,o.onComplete(e,o.timeLapse,o.params))):(o.onLeave&&o.$$isDirty&&o.onLeave(e,o.timeLapse,o.params),o.$$isDirty=!1)}},this.onPlay=function(){this.setState(r.PLAY),e.$apply()},this.onPause=function(){0==this.mediaElement[0].currentTime?this.setState(r.STOP):this.setState(r.PAUSE),e.$apply()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,e.$apply()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,e.$apply()},this.onSeeking=function(t){e.vgSeeking({$currentTime:t.target.currentTime,$duration:t.target.duration})},this.onSeeked=function(t){e.vgSeeked({$currentTime:t.target.currentTime,$duration:t.target.duration})},this.seekTime=function(e,t){var n;t?(n=e*this.mediaElement[0].duration/100,this.mediaElement[0].currentTime=n):(n=e,this.mediaElement[0].currentTime=n),this.currentTime=1e3*n},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(t){return t&&t!=this.currentState&&(e.vgUpdateState({$state:t}),this.currentState=t),this.currentState},this.play=function(){this.mediaElement[0].play(),this.setState(r.PLAY)},this.pause=function(){this.mediaElement[0].pause(),this.setState(r.PAUSE)},this.stop=function(){try{this.mediaElement[0].pause(),this.mediaElement[0].currentTime=0,this.currentTime=0,this.setState(r.STOP)}catch(e){return e}},this.toggleFullScreen=function(){i.isAvailable&&this.nativeFullscreen?this.isFullScreen?o.isMobileDevice()||i.exit():o.isMobileDevice()?o.isiOSDevice()?c?this.enterElementInFullScreen(this.mediaElement[0]):(l=!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0]):(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",o.getZIndex())),this.isFullScreen=!this.isFullScreen)},this.enterElementInFullScreen=function(e){i.request(e)},this.changeSource=function(t){e.vgChangeSource({$source:t})},this.setVolume=function(n){n=Math.max(Math.min(n,1),0),e.vgUpdateVolume({$volume:n}),this.mediaElement[0].volume=n,this.volume=n,o.supportsLocalStorage()&&t.localStorage.setItem(a,n.toString())},this.setPlayback=function(t){e.vgUpdatePlayback({$playBack:t}),this.mediaElement[0].playbackRate=t,this.playback=t},this.updateTheme=function(e){var t,n,i=document.getElementsByTagName("link");if(s)for(t=0,n=i.length;n>t;t++)if(i[t].outerHTML.indexOf(s)>=0){i[t].parentNode.removeChild(i[t]);break}if(e){var o=angular.element(document).find("head"),r=!1;for(t=0,n=i.length;n>t&&!(r=i[t].outerHTML.indexOf(e)>=0);t++);r||o.append("<link rel='stylesheet' href='"+e+"'>"),s=e}},this.onStartBuffering=function(t){this.isBuffering=!0,e.$apply()},this.onStartPlaying=function(t){this.isBuffering=!1,e.$apply()},this.onComplete=function(t){e.vgComplete(),this.setState(r.STOP),this.isCompleted=!0,e.$apply()},this.onVideoError=function(t){e.vgError({$event:t})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].addEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.isConfig=void 0!=e.vgConfig,i.isAvailable&&(this.isFullScreen=i.isFullScreen()),this.updateTheme(e.vgTheme),this.addBindings(),i.isAvailable&&document.addEventListener(i.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(e){this.updateTheme(e)},this.onUpdateAutoPlay=function(e){e&&!this.autoPlay&&(this.autoPlay=e,this.play(this))},this.onUpdatePlaysInline=function(e){this.playsInline=e},this.onUpdateNativeFullscreen=function(e){void 0==e&&(e=!0),this.nativeFullscreen=e},this.onUpdateCuePoints=function(e){this.cuePoints=e,this.checkCuePoints(this.currentTime)},this.onUpdateClearMediaOnNavigate=function(e){this.clearMediaOnNavigate=e},this.addBindings=function(){e.$watch("vgTheme",this.onUpdateTheme.bind(this)),e.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),e.$watch("vgPlaysInline",this.onUpdatePlaysInline.bind(this)),e.$watch("vgNativeFullscreen",this.onUpdateNativeFullscreen.bind(this)),e.$watch("vgCuePoints",this.onUpdateCuePoints.bind(this)),e.$watch("vgClearMediaOnNavigate",this.onUpdateClearMediaOnNavigate.bind(this))},this.onFullScreenChange=function(t){this.isFullScreen=i.isFullScreen(),e.$apply()},e.$on("$destroy",this.clearMedia.bind(this)),e.$on("$routeChangeStart",this.onRouteChange.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").directive("vgCrossorigin",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var o;e.setCrossorigin=function(e){e?i.mediaElement.attr("crossorigin",e):i.mediaElement.removeAttr("crossorigin")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setCrossorigin(i.config.crossorigin)}):e.$watch(n.vgCrossorigin,function(t,n){o&&t==n||!t?e.setCrossorigin():(o=t,e.setCrossorigin(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var o;e.setLoop=function(e){e?i.mediaElement.attr("loop",e):i.mediaElement.removeAttr("loop")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setLoop(i.config.loop)}):e.$watch(n.vgLoop,function(t,n){o&&t==n||!t?e.setLoop():(o=t,e.setLoop(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","VG_UTILS","VG_STATES",function(e,t,n){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){var n=t.vgType||"video";return t.vgTemplate||"vg-templates/vg-media-"+n},scope:{vgSrc:"=?",vgType:"=?"},link:function(i,o,r,a){var s;r.vgType&&"video"!==r.vgType?r.vgType="audio":r.vgType="video",i.onChangeSource=function(e,t){s&&e==t||!e||(s=e,a.currentState!==n.PLAY&&(a.currentState=n.STOP),a.sources=s,i.changeSource())},i.changeSource=function(){var n="";if(a.mediaElement[0].canPlayType){for(var i=0,o=s.length;o>i;i++)if(n=a.mediaElement[0].canPlayType(s[i].type),"maybe"==n||"probably"==n){a.mediaElement.attr("src",s[i].src),a.mediaElement.attr("type",s[i].type),a.changeSource(s[i]);break}}else a.mediaElement.attr("src",s[0].src),a.mediaElement.attr("type",s[0].type),a.changeSource(s[0]);t.isMobileDevice()&&a.mediaElement[0].load(),e(function(){a.autoPlay&&!t.isMobileDevice()&&a.play()}),""==n&&a.onVideoError()},a.mediaElement=o.find(r.vgType),a.sources=i.vgSrc,a.addListeners(),a.onVideoReady(),i.$watch("vgSrc",i.onChangeSource),i.$watch(function(){return a.sources},i.onChangeSource),i.$watch(function(){return a.playsInline},function(e,t){e?a.mediaElement.attr("webkit-playsinline",""):a.mediaElement.removeAttr("webkit-playsinline")}),a.isConfig&&i.$watch(function(){return a.config},function(){a.config&&(i.vgSrc=a.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var o;e.setControls=function(e){e?i.mediaElement.attr("controls",e):i.mediaElement.removeAttr("controls")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setControls(i.config.controls)}):e.$watch(n.vgNativeControls,function(t,n){o&&t==n||!t?e.setControls():(o=t,e.setControls(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var o;e.setPreload=function(e){e?i.mediaElement.attr("preload",e):i.mediaElement.removeAttr("preload")},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setPreload(i.config.preload)}):e.$watch(n.vgPreload,function(t,n){o&&t==n||!t?e.setPreload():(o=t,e.setPreload(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,n,i){var o,r,a;e.onLoadMetaData=function(){e.updateTracks()},e.updateTracks=function(){var t=i.mediaElement.children();for(r=0,a=t.length;a>r;r++)t[r].remove&&t[r].remove();if(o)for(r=0,a=o.length;a>r;r++){var n=document.createElement("track");for(var s in o[r])n[s]=o[r][s];n.addEventListener("load",e.onLoadTrack.bind(e,n)),i.mediaElement[0].appendChild(n)}},e.onLoadTrack=function(e){e.mode="showing",i.mediaElement[0].textTracks[0].mode="showing"},e.setTracks=function(t){o=t,i.tracks=t,i.mediaElement[0].addEventListener("loadedmetadata",e.onLoadMetaData.bind(e),!1)},i.isConfig?e.$watch(function(){return i.config},function(){i.config&&e.setTracks(i.config.tracks)}):e.$watch(n.vgTracks,function(t,n){o&&t==n||e.setTracks(t)})}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgPlaysInline:"=?",vgNativeFullscreen:"=?",vgClearMediaOnNavigate:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgSeeking:"&",vgSeeked:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(e,t,n,i){i.videogularElement=angular.element(t)}}}}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(e,t,n){this.loadConfig=function(i){var o=t.defer();return e({method:"GET",url:i}).then(function(e){for(var t=e.data,i=0,r=t.sources.length;r>i;i++)t.sources[i].src=n.trustAsResourceUrl(t.sources[i].src);o.resolve(t)},function(){o.reject()}),o.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(e){function t(){return null!=document[n.element]}var n=null,i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var o in i)if(i[o].enabled in document){n=i[o];break}e.isiOSDevice()&&(n=i.ios),this.isAvailable=null!=n,n&&(this.onchange=n.onchange,this.onerror=n.onerror,this.isFullScreen=t,this.exit=function(){document[n.exit]()},this.request=function(e){e[n.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(e){this.fixEventOffset=function(e){var t=navigator.userAgent.match(/Firefox\/(\d+)/i);if(t&&Number.parseInt(t.pop())<39){var n=e.currentTarget.currentStyle||window.getComputedStyle(e.target,null),i=parseInt(n.borderLeftWidth,10),o=parseInt(n.borderTopWidth,10),r=e.currentTarget.getBoundingClientRect(),a=e.clientX-i-r.left,s=e.clientY-o-r.top;e.offsetX=a,e.offsetY=s}return e},this.getZIndex=function(){for(var e,t=1,n=document.getElementsByTagName("*"),i=0,o=n.length;o>i;i++)e=parseInt(window.getComputedStyle(n[i])["z-index"]),e>t&&(t=e+1);return t},this.isMobileDevice=function(){return"undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)},this.supportsLocalStorage=function(){var t="videogular-test-key",n=e.sessionStorage;try{return n.setItem(t,"1"),n.removeItem(t),"localStorage"in e&&null!==e.localStorage}catch(i){return!1}}}]),angular.module("com.2fdevs.videogular.plugins.overlayplay",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-overlay-play",'<div class="overlayPlayContainer" ng-click="onClickOverlayPlay()">              <div class="iconButton" ng-class="overlayPlayIcon"></div>            </div>')}]).directive("vgOverlayPlay",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-overlay-play"},link:function(t,n,i,o){t.onChangeState=function(n){switch(n){case e.PLAY:t.overlayPlayIcon={};break;case e.PAUSE:t.overlayPlayIcon={play:!0};break;case e.STOP:t.overlayPlayIcon={play:!0}}},t.onClickOverlayPlay=function(e){o.playPause()},t.overlayPlayIcon={play:!0},t.$watch(function(){return o.currentState},function(e,n){t.onChangeState(e)})}}}]),function(e,t){"use strict";function n(){function t(e){return function(){c.waitForVendorCount&&(d[e]||(d[e]=[]),d[e].push(arguments))}}function n(t,n){return u[t]||(u[t]=[]),u[t].push(n),function(){var n=arguments;e.forEach(u[t],function(e){e.apply(this,n)},this)}}function i(e,t){t?setTimeout(e,t):e()}function o(t,o){g[t]=n(t,o);var r=s[t],a=r?r.bufferFlushDelay:null,l=null!==a?a:s.bufferFlushDelay;e.forEach(d[t],function(e,t){i(function(){o.apply(this,e)},t*l)})}function r(e){return e.replace(/^./,function(e){return e.toUpperCase()})}function a(e){var i="register"+r(e);p[i]=function(t){o(e,t)},g[e]=n(e,t(e))}var s={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:"",excludedRoutes:[]},eventTracking:{},bufferFlushDelay:1e3,developerMode:!1},l=["pageTrack","eventTrack","exceptionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","userTimings"],d={},u={},g={settings:s},p={$get:function(){return g},api:g,settings:s,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},excludeRoutes:function(e){this.settings.pageTracking.excludedRoutes=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(t){this.settings.pageTracking.basePath=t?e.element(document).find("base").attr("href"):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e},developerMode:function(e){this.settings.developerMode=e}};return e.forEach(l,a),p}function i(t,n,i,o){function r(e){for(var t=0;t<i.settings.pageTracking.excludedRoutes.length;t++){var n=i.settings.pageTracking.excludedRoutes[t];if(n instanceof RegExp&&n.test(e)||e.indexOf(n)>-1)return!0}return!1}function a(e,t){r(e)||i.pageTrack(e,t)}i.settings.pageTracking.autoTrackFirstPage&&o.invoke(["$location",function(e){var t=!0;if(o.has("$route")){var r=o.get("$route");for(var s in r.routes){t=!1;break}}else if(o.has("$state")){var l=o.get("$state");for(var c in l.get()){t=!1;break}}if(t)if(i.settings.pageTracking.autoBasePath&&(i.settings.pageTracking.basePath=n.location.pathname),i.settings.pageTracking.trackRelativePath){var d=i.settings.pageTracking.basePath+e.url();a(d,e)}else a(e.absUrl(),e)}]),i.settings.pageTracking.autoTrackVirtualPages&&o.invoke(["$location",function(e){i.settings.pageTracking.autoBasePath&&(i.settings.pageTracking.basePath=n.location.pathname+"#");var r=!0;if(o.has("$route")){var s=o.get("$route");for(var l in s.routes){r=!1;break}t.$on("$routeChangeSuccess",function(t,n){if(!n||!(n.$$route||n).redirectTo){var o=i.settings.pageTracking.basePath+e.url();a(o,e)}})}o.has("$state")&&(r=!1,t.$on("$stateChangeSuccess",function(t,n){var o=i.settings.pageTracking.basePath+e.url();a(o,e)})),r&&t.$on("$locationChangeSuccess",function(t,n){if(!n||!(n.$$route||n).redirectTo)if(i.settings.pageTracking.trackRelativePath){var o=i.settings.pageTracking.basePath+e.url();a(o,e)}else a(e.absUrl(),e)})}]),i.settings.developerMode&&e.forEach(i,function(e,t){"function"==typeof e&&(i[t]=function(){})})}function o(t){return{restrict:"A",link:function(n,i,o){var r=o.analyticsOn||"click",c={};e.forEach(o.$attr,function(e,t){s(t)&&(c[l(t)]=o[t],o.$observe(t,function(e){c[l(t)]=e}))}),e.element(i[0]).bind(r,function(r){var s=o.analyticsEvent||a(i[0]);c.eventType=r.type,(!o.analyticsIf||n.$eval(o.analyticsIf))&&(o.analyticsProperties&&e.extend(c,n.$eval(o.analyticsProperties)),t.eventTrack(s,c))})}}}function r(e){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(e.tagName.toLowerCase()+":"+(e.type||""))>=0}function a(e){return r(e)?e.innerText||e.value:e.id||e.name||e.tagName}function s(e){return"analytics"===e.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(e.substr(9))}function l(e){var t=e.slice(9);return"undefined"!=typeof t&&null!==t&&t.length>0?t.substring(0,1).toLowerCase()+t.substring(1):t}var c=window.angulartics||(window.angulartics={});c.waitForVendorCount=0,c.waitForVendorApi=function(e,t,n,i,o){o||c.waitForVendorCount++,i||(i=n,n=void 0),!Object.prototype.hasOwnProperty.call(window,e)||void 0!==n&&void 0===window[e][n]?setTimeout(function(){c.waitForVendorApi(e,t,n,i,!0)},t):(c.waitForVendorCount--,i(window[e]))},e.module("angulartics",[]).provider("$analytics",n).run(["$rootScope","$window","$analytics","$injector",i]).directive("analyticsOn",["$analytics",o])}(angular),function(e){"use strict";e.module("angulartics.debug",["angulartics"]).config(["$analyticsProvider",function(e){e.registerPageTrack(function(e){console.log("Page tracking: ",e)}),e.registerEventTrack(function(e,t){console.log("Event tracking: ",e,t)})}])}(angular),function(e,t,n){"use strict";t.module("angulartics.mixpanel",["angulartics"]).config(["$analyticsProvider",function(e){angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetUsername(function(e){t.identify(e)}),e.registerSetAlias(function(e){t.alias(e)}),e.registerSetSuperPropertiesOnce(function(e){t.register_once(e)}),e.registerSetSuperProperties(function(e){t.register(e)}),e.registerSetUserPropertiesOnce(function(e){t.people.set_once(e)}),e.registerSetUserProperties(function(e){t.people.set(e)}),e.registerPageTrack(function(e){t.track("Page Viewed",{page:e})}),e.registerEventTrack(function(e,n){t.track(e,n)})})}])}(window,window.angular),function(e,t,n){"use strict";t.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider",function(i){function o(t){if(e.ga)for(var n=1;200>=n;n++)t["dimension"+n.toString()]&&ga("set","dimension"+n.toString(),t["dimension"+n.toString()]),t["metric"+n.toString()]&&ga("set","metric"+n.toString(),t["metric"+n.toString()])}i.settings.pageTracking.trackRelativePath=!0,i.settings.ga={additionalAccountNames:n,userId:null},i.registerPageTrack(function(n){e._gaq&&(_gaq.push(["_trackPageview",n]),t.forEach(i.settings.ga.additionalAccountNames,function(e){_gaq.push([e+"._trackPageview",n])})),e.ga&&(i.settings.ga.userId&&ga("set","&uid",i.settings.ga.userId),ga("send","pageview",n),t.forEach(i.settings.ga.additionalAccountNames,function(e){ga(e+".send","pageview",n)}))}),i.registerEventTrack(function(n,r){if(r&&r.category||(r=r||{},r.category="Event"),r.value){var a=parseInt(r.value,10);r.value=isNaN(a)?0:a}if(e.ga){var s={eventCategory:r.category,eventAction:n,eventLabel:r.label,eventValue:r.value,nonInteraction:r.noninteraction,page:r.page||e.location.hash.substring(1)||e.location.pathname,userId:i.settings.ga.userId};o(r),i.settings.ga.transport?ga("send","event",s,{transport:i.settings.ga.transport}):ga("send","event",s),t.forEach(i.settings.ga.additionalAccountNames,function(e){ga(e+".send","event",s)})}else e._gaq&&_gaq.push(["_trackEvent",r.category,n,r.label,r.value,r.noninteraction])}),i.registerExceptionTrack(function(e){return e&&e.appId&&e.appName&&e.appVersion?(e.fatal===n&&(console.log('No "fatal" provided, sending with fatal=true'),e.exFatal=!0),e.exDescription=e.description,void ga("send","exception",e)):void console.error("Must be setted appId, appName and appVersion.")}),i.registerSetUsername(function(e){i.settings.ga.userId=e}),i.registerSetUserProperties(function(e){o(e)}),i.registerUserTimings(function(t){return t&&t.timingCategory&&t.timingVar&&t.timingValue?void(e.ga&&ga("send","timing",t)):void console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")})}])}(window,window.angular),function(e,t,n){"use strict";t.module("angulartics.facebook.pixel",["angulartics"]).config(["$analyticsProvider",function(t){t.settings.pageTracking.trackRelativePath=!0,t.registerPageTrack(function(t){e.fbq&&fbq("track","PageView")})}])}(window,window.angular);